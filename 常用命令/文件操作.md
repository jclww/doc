[TOC]
## find 文件查找
### 简介
find命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则find命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。
### 格式
```
find   path   -option   [   -print ]   [ -exec   -ok   command ]   {} \;
```
常用option
- -name 按照文件名查找
- -iname 忽略大小写按照文件名查找
- -atime 用户最近一次访问时间
- -mtime 按照文件修改时间查找 +2修改时间在2天前
- -ctime n 在过去n天内被修改过的文件
- -size n +n 大于多少 -n小于多少 单位 m k b
- -ok和-exec行为一样，不过它会给出提示，是否执行相应的操作。
### 举例
- [ ] find . -name "*.c" 查找当前目录及子目录中以.c结尾的文件
- [ ] find . -size +260M -exec ls -l {} \; 查找出查找当前目录及子目录下文件大小大于 260M的文件的详细信息
- [ ] find . ! -name "*.txt" 查找不是.txt文件结尾的文件
- [ ] find . -maxdepth 3 -type f 搜索出深度距离当前目录最大3个子目录的所有文件
- [ ] find . -type f -name "*.txt" -delete 删除当前目录下所有.txt文件
- [ ] find . -type f -user tom 找出当前目录用户tom拥有的所有文件
- [ ] find . -name "*.txt" -ok rm {} \; 将目录下所有的.txt文件并删除
- [ ] find . -type f -mtime +30 -name "*.log" -exec cp {} old \; 将30天前的.log文件移动到old目录中
- [ ] find . -type f -name "*.txt" -exec printf "File: %s\n" {} \; 找出当前目录下所有.txt文件并以“File:文件名”的形式打印出来
## grep
### 简介
Linux grep命令用于查找文件里符合条件的字符串。
grep指令用于查找内容包含指定的范本样式的文件，如果发现某文件的内容符合所指定的范本样式，预设grep指令会把含有范本样式的那一列显示出来。若不指定任何文件名称，或是所给予的文件名为"-"，则grep指令会从标准输入设备读取数据。
### 常用参数选项
- -A<显示行数> 或 --after-context=<显示行数> : 除了显示符合范本样式的那一列之外，并显示该行之后的内容。
- -B<显示行数> 或 --before-context=<显示行数> : 除了显示符合样式的那一行之外，并显示该行之前的内容。
- -C<显示行数> 或 --context=<显示行数>或-<显示行数> : 除了显示符合样式的那一行之外，并显示该行之前后的内容。
- -c 或 --count : 计算符合样式的列数。
- -d <动作> 或 --directories=<动作> : 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。
- -i 或 --ignore-case : 忽略字符大小写的差别。
- -l 或 --file-with-matches : 列出文件内容符合指定的样式的文件名称。
- -L 或 --files-without-match : 列出文件内容不符合指定的样式的文件名称。
- -n 或 --line-number : 在显示符合样式的那一行之前，标示出该行的列数编号。
- -r 或 --recursive : 此参数的效果和指定"-d recurse"参数相同。
- -v 或 --revert-match : 显示不包含匹配文本的所有行。
### 举例
- [ ] grep test test* 查找前缀有“test”的文件包含“test”字符串的文件  
- [ ] grep -r update /etc/acpi 查找指定目录/etc/acpi 及其子目录（如果存在子目录的话）下所有文件中包含字符串"update"的文件
- [ ] grep -n -A3 -B2 -i 'mic' grep.txt 查找grep.txt中包含mic不区分大小写字符串并输出前2行后3行并且显示行号
- [ ] grep -l -r 'energywise' * 在当前目录及其子目录下搜索'energywise'行的文件，但是不显示匹配的行，只显示匹配的文件
- [ ] grep -n '\^[a-z]oo' grep.txt 查找grep.txt文件中以[a-z]oo（正则表达式）开始的行并显示行号
## awk
### 简介
AWK是一种处理文本文件的语言，是一个强大的文本分析工具。
### 参数选项
- -F <split> 指定分割符split可以是一个字符串或者是一个正则表达式
- -f 调用脚本
- // 匹配代码块，可以是字符串或正则表达式
- {} 命令代码块，包含一条或多条命令
- ' ' 引用代码块
### 特殊要点
- $0 表示整个当前行
- $1 每行第一个字段
- -F'[:#/]'   定义三个分隔符
- print
- printf 
>printf表示格式输出
%格式化输出分隔符
-8长度为8个字符
s表示字符串类型
- NF  字段数量变量 （按照分隔符分割后有几列）
- NR  每行的记录号，多文件记录递增（行号）
- FNR  与NR类似，不过多文件记录不递增，每个文件都从1开始（ps:尽量使用这个而不是上面的）
- OFS="\t" 列分割符，默认空格
- IGNORECASE = 1 忽略大小写
### 内置变量
- FS: 输入字段分隔符变量
> 读取并解析输入文件中的每一行时，默认按照空格分隔为字段变量,$1,$2...等。FS 变量被用来设置每一记录的字段分隔符号。FS 可以是任意的字符串或者正则表达式。
- OFS: 输出字段分隔符变量
>相当于输出上的 FS, 列分隔符。 默认是以一个空格字符作为输出分隔符的
- RS: 记录分隔符
>定义了一行记录。读取文件时，默认将一行作为一条记录。
- ORS: 输出记录分隔符变量
>相当于输出的 RS。 每条记录在输出时候会用分隔符隔开
- NR: 记录数变量
>表示的是已经处理过的总记录数目，或者说行号(不一定是一个文件，可能是多个)。
- FNR: 当前输入文件的记录数目
>当awk读取多个文件时，NR 代表的是当前输入所有文件的全部记录数，而 FNR 则是当前文件的记录数。
- FILENAME: 当前输入文件的名字
> FILENAME 表示当前正在输入的文件的名字。 AWK 可以接受读取很多个文件去处理。

### 使用举例
- [ ] awk -F: '{print $1"\t"$2}' awk.txt 将awk.txt的每行按照:切分 并打印第一列和第二列用制表符分割
- [ ] awk -F: '{print $1,$2}' OFS="\t" awk.txt 同上
- [ ] awk -F: '$1~/mail/{print $0}' awk.txt 将awk.txt的每行按照:切分，输出第一列匹配mail的行
- [ ] awk '$2 ~ /th/ {print $2,$4}' log.txt 输出第二列包含 "th"，并打印第二列与第四列
- [ ] awk '$2 !~ /th/ {print $2,$4}' log.txt 与上面取反
- [ ] awk 'BEGIN{IGNORECASE=1} /this/' log.txt 忽略大小写
- [ ] awk '/this/' IGNORECASE=1 log.txt 同上
## sort
### 简介
sort命令是在Linux里非常有用，它将文件进行排序，并将排序结果标准输出。sort命令既可以从特定的文件，也可以从stdin中获取输入。
### 参数选项
- -b：忽略每行前面开始出的空格字符；
- -c：检查文件是否已经按照顺序排序；
- -d：排序时，处理英文字母、数字及空格字符外，忽略其他的字符；
- -f：排序时，将小写字母视为大写字母；
- -i：排序时，除了040至176之间的ASCII字符外，忽略其他的字符；
- -m：将几个排序号的文件进行合Linux grep命令用于查找文件里符合条件的字符串。

grep指令用于查找内容包含指定的范本样式的文件，如果发现某文件的内容符合所指定的范本样式，预设grep指令会把含有范本样式的那一列显示出来。若不指定任何文件名称，或是所给予的文件名为"-"，则grep指令会从标准输入设备读取数据。并；
- -M：将前面3个字母依照月份的缩写进行排序；
- -n：依照数值的大小排序；
- -o<输出文件>：将排序后的结果存入制定的文件；
- -r：以相反的顺序来排序；
- -t<分隔字符>：指定排序时所用的栏位分隔字符；
- +<起始栏位>-<结束栏位>：以指定的栏位来排序，范围由起始栏位到结束栏位的前一栏位。
### 举例
- [ ] sort -nk 2 -t: sort.txt 按照:分隔符 取第二列按照小到大顺序排列
- [ ] sort -nrk 3 -t: sort.txt 按照:分隔符 取第二列按照大到小顺序排列
- [ ] sort -t ' ' -k 1.2,1.2 -rk 3,3 sort.txt  对第一列的第二个字符按照升序排序，对于相同的按照第三列降序排序（ps:对于1.2,1.2是精确只对第一列第二个字符 3,3标示只对第三列）
- [ ] sort -u 去重 类似`uniq`命令


## cat 小文件查看
cat 命令用于连接文件并打印到标准输出设备上。

```
cat [-AbeEnstTuv] [--help] [--version] fileName
```
参数：
- -n 或 --number：由 1 开始对所有输出的行数编号。
- -b 或 --number-nonblank：和 -n 相似，只不过对于空白行不编号。
- -E 或 --show-ends : 在每行结束处显示 $。
### 举例
- [ ] cat /dev/null > /etc/test.txt 清空 /etc/test.txt 文档内容：
- [ ] cat -n text.txt 显示text.txt并显示行号
## less 大文件查看
使用 less 可以随意浏览文件，而且 less 在查看之前不会加载整个文件。
```
less [参数] 文件 
```
### 常用命令
- ctrl + F - 向前移动一屏
- ctrl + B - 向后移动一屏
- ctrl + D - 向前移动半屏
- ctrl + U - 向后移动半屏
- j - 向前移动一行
- k - 向后移动一行
- G - 移动到最后一行
- g - 移动到第一行
- q / ZZ - 退出 less 命令
- /字符串：向下搜索"字符串"的功能
- ?字符串：向上搜索"字符串"的功能
- n：重复前一个搜索（与 / 或 ? 有关）
- N：反向重复前一个搜索（与 / 或 ? 有关）
## wc 计算字数
利用wc指令我们可以计算文件的Byte数、字数、或是列数，若不指定文件名称、或是所给予的文件名为"-"，则wc指令会从标准输入设备读取数据
```
wc [-clw][--help][--version][文件...]
```
### 常用命令
- -c或--bytes或--chars 只显示Bytes数。
- -l或--lines 只显示行数。
- -w或--words 只显示字数。
- --version 显示版本信息。
### 举例
- [ ] wc test.txt 显示文件的行数、单词数、字节数